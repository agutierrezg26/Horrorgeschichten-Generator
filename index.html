<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Horrorgeschichten-Generator </title>
<link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
<style>
body {
  font-family: "Segoe UI", sans-serif;
  background-color: #1b1b1b;
  color: #fff;
  text-align: center;
  padding: 20px;
}

h1 {
  font-family: 'Creepster', cursive;
  color: #ff5555;
  font-size: 4rem;
  margin-bottom: 10px;
}

select, button {
  font-size: 1rem;
  padding: 10px;
  margin: 8px;
  border-radius: 8px;
  border: none;
  max-width: 90%;
}

button {
  background-color: #ff3333;
  color: white;
  cursor: pointer;
  transition: 0.3s;
}

button:hover {
  background-color: #ff6666;
  transform: scale(1.03);
}

.section {
  background: #111;
  border-radius: 10px;
  padding: 15px;
  margin-top: 20px;
  width: 90%;
  max-width: 700px;
  margin-inline: auto;
  text-align: left;
  opacity: 0;
  transition: opacity 0.8s ease-in-out;
}

#einfuhrung { color: #fff; }
#entwicklung { color: #ccc; margin-top: 10px; display: none; }
#konsequenz { color: #ccc; margin-top: 10px; display: none; }

.option-buttons {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  margin-top: 20px;
}

.option-buttons button {
  width: 90%;
  max-width: 500px;
  background-color: #333;
}

.option-buttons button:hover {
  background-color: #555;
}

#konsequenzButtonTriggerContainer {
  opacity: 0;
  margin-top: 20px;
  text-align: center;
  transition: opacity 0.8s;
}

#endgeschichte {
  background: #222;
  border-radius: 10px;
  padding: 15px;
  margin-top: 20px;
  width: 90%;
  max-width: 700px;
  margin-inline: auto;
  min-height: 150px;
  overflow-y: auto;
  text-align: left;
  display: none;
}

@media (max-width: 600px) {
  h1 { font-size: 1.8rem; }
  select, button { font-size: 0.9rem; padding: 8px; }
  .section, #endgeschichte { font-size: 0.9rem; }
  .option-buttons button { font-size: 0.9rem; }
}
</style>
</head>
<body>

<h1>üïØÔ∏è Horrorgeschichten-Generator</h1>

<select id="personSelect"></select>
<select id="ortSelect"></select>
<select id="ereignisSelect"></select>

<br>
<button onclick="einfuhrung()">Wie beginnt die Geschichte?</button>

<div class="section" id="einfuhrung">
  <div id="einfuhrungText"></div>
  <div id="entwicklungButtonContainer" style="display:none; margin-top:10px;">
    <button onclick="zeigeEntwicklung()">Wie geht es weiter?</button>
  </div>
</div>

<div class="section" id="entwicklung">
  <div class="option-buttons" id="entwicklungButtons"></div>
</div>

<div id="konsequenzButtonTriggerContainer">
  <button id="showKonsequenzBtn">Was ist danach passiert?</button>
</div>

<div class="section" id="konsequenz">
  <div class="option-buttons" id="konsequenzButtons"></div>
</div>

<div id="endgeschichte">
  <div id="finalText"></div>
</div>

<script>
// Datos base: personajes, lugares, eventos
const personen = [
  { name: "eine junge Frau", pronomen: "sie" },
  { name: "ein alter Mann", pronomen: "er" },
  { name: "ein Kind", pronomen: "es" },
  { name: "eine Katze", pronomen: "sie" },
];

const orte = [
  "in einem alten Haus",
  "im dunklen Wald",
  "in einer verlassenen Schule",
  "in einem kalten Keller",
  "auf dem Friedhof",
];

const ereignisse = [
  "h√∂rte ein seltsames Ger√§usch",
  "bemerkte, dass die T√ºr offen war",
  "sah einen Schatten an der Wand",
  "fand ein altes Buch auf dem Tisch",
];

// Frases para la introducci√≥n seg√∫n tono gen√©rico
const einleitungen = [
  "Es war eine kalte Nacht. Alles war still.",
  "Drau√üen wehte der Wind. Der Mond war voll.",
  "Es war sp√§t, und niemand war mehr drau√üen.",
  "Eine dunkle Wolke zog √ºber den Himmel.",
];

// Opciones de desarrollo (neutrales, adaptadas por pronombre)
const entwicklungen = [
  "{PRONOMEN} √∂ffnete die T√ºr langsam. Drinnen war es dunkel.",
  "{PRONOMEN} h√∂rte pl√∂tzlich Schritte hinter sich.",
  "{PRONOMEN} fand ein altes Foto auf dem Boden.",
  "{PRONOMEN} ging vorsichtig weiter, das Herz klopfte schnell.",
];

// Consecuencias finales (adaptadas autom√°ticamente)
function getConsequences(pronomen) {
  return [
    capitalizeFirstLetter(pronomen) + " hatte gro√üe Angst, aber wollte mehr wissen.",
    capitalizeFirstLetter(pronomen) + " blieb stehen und h√∂rte genau hin.",
    capitalizeFirstLetter(pronomen) + " war sehr √ºberrascht und wusste nicht, was passierte.",
  ];
}

// Poblar los selects
const personSelect = document.getElementById("personSelect");
personen.forEach(p => personSelect.add(new Option(p.name, p.name)));

const ortSelect = document.getElementById("ortSelect");
orte.forEach(o => ortSelect.add(new Option(o, o)));

const ereignisSelect = document.getElementById("ereignisSelect");
ereignisse.forEach(e => ereignisSelect.add(new Option(e, e)));

let story = "";
let pronomen = "";

// Capitalizar
function capitalizeFirstLetter(text) {
  if(!text) return "";
  return text.charAt(0).toUpperCase() + text.slice(1);
}

// Inicio
function einfuhrung() {
  const personObj = personen.find(p => p.name === personSelect.value);
  pronomen = personObj.pronomen;
  const ort = ortSelect.value;
  const ereignis = ereignisSelect.value;
  const intro = einleitungen[Math.floor(Math.random() * einleitungen.length)];

  story = `${intro} ${capitalizeFirstLetter(personObj.name)} ${ort} ${ereignis}.`;
  document.getElementById("einfuhrungText").innerText = story;
  document.getElementById("einfuhrung").style.opacity = 1;

  // mostrar despu√©s de 5 segundos
  setTimeout(() => document.getElementById("entwicklungButtonContainer").style.display = "block", 5000);
}

// Desarrollo
function zeigeEntwicklung() {
  const entwicklungDiv = document.getElementById("entwicklung");
  entwicklungDiv.style.display = "block";
  entwicklungDiv.style.opacity = 1;

  const container = document.getElementById("entwicklungButtons");
  container.innerHTML = "";

  entwicklungen.forEach(text => {
    const btn = document.createElement("button");
    btn.innerText = capitalizeFirstLetter(text.replace("{PRONOMEN}", pronomen));
    btn.onclick = () => {
      story += " " + capitalizeFirstLetter(text.replace("{PRONOMEN}", pronomen));
      document.getElementById("finalText").innerText = story;
      container.querySelectorAll("button").forEach(b => { b.disabled = true; if(b!==btn) b.style.opacity=0.5; });
      btn.style.backgroundColor = "#ff4444";
      document.getElementById("konsequenzButtonTriggerContainer").style.opacity = 1;
    };
    container.appendChild(btn);
  });
}

// Consecuencias finales
document.getElementById("showKonsequenzBtn").onclick = () => {
  const konsequenzDiv = document.getElementById("konsequenz");
  konsequenzDiv.style.display = "block";
  konsequenzDiv.style.opacity = 1;

  const container = document.getElementById("konsequenzButtons");
  container.innerHTML = "";

  const options = getConsequences(pronomen);
  options.forEach(text => {
    const btn = document.createElement("button");
    btn.innerText = text;
    btn.onclick = () => {
      story += " " + text;
      document.getElementById("finalText").innerText = story;
      document.getElementById("endgeschichte").style.display = "block";
      document.getElementById("endgeschichte").style.opacity = 1;

      container.querySelectorAll("button").forEach(b => { b.disabled = true; if(b!==btn) b.style.opacity=0.5; });
      btn.style.backgroundColor = "#ff4444";
    };
    container.appendChild(btn);
  });
};
</script>

</body>
</html>

